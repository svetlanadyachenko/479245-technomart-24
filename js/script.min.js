var link=document.querySelector(".modal-form-link"),popup=document.querySelector(".modal-form"),close=popup.querySelector(".close-button"),username=popup.querySelector("[name=name]"),form=popup.querySelector("form"),email=popup.querySelector("[name=e-mail]"),text=popup.querySelector("[name=letter-text]"),isStorageSupport=!0,storage="";try{storage=localStorage.getItem("username")}catch(e){isStorageSupport=!1}link.addEventListener("click",function(e){e.preventDefault(),popup.classList.add("modal-form-show"),storage?(username.value=storage,email.focus()):username.focus()}),close.addEventListener("click",function(e){e.preventDefault(),popup.classList.remove("modal-form-show"),popup.classList.remove("modal-form-error")}),form.addEventListener("submit",function(e){username.value&&email.value&&text.value?isStorageSupport&&localStorage.setItem("username",username.value):(e.preventDefault(),popup.classList.remove("modal-form-error"),popup.offsetWidth=popup.offsetWidth,popup.classList.add("modal-form-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&e.preventDefault(),popup.classList.contains("modal-form-show")&&(popup.classList.remove("modal-form-show"),popup.classList.remove("modal-form-error"))});var linkmap=document.querySelector(".map-link"),popupmap=document.querySelector(".modal-map"),closemap=popupmap.querySelector(".close-button");linkmap.addEventListener("click",function(e){e.preventDefault(),popupmap.classList.add("modal-map-show")}),closemap.addEventListener("click",function(e){e.preventDefault(),popupmap.classList.remove("modal-map-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&e.preventDefault(),popupmap.classList.contains("modal-map-show")&&popupmap.classList.remove("modal-map-show")});var linkbasket=document.querySelector(".buy-button"),popupbasket=document.querySelector(".modal-basket"),redbasket=document.querySelector(".basket-link"),closebasket=popupbasket.querySelector(".close-button"),parent=document.querySelector(".index-catalog-list");parent.addEventListener("click",function(e){e.preventDefault();for(var r=e.target;r!==parent;){if("buy-button"===r.className)return popupbasket.classList.add("modal-basket-show"),void redbasket.classList.add("basket-link-red");r=r.parentNode}}),closebasket.addEventListener("click",function(e){e.preventDefault(),popupbasket.classList.remove("modal-basket-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&e.preventDefault(),popupbasket.classList.contains("modal-basket-show")&&popupbasket.classList.remove("modal-basket-show")});var linkbookmarks=document.querySelector(".bookmarks-button"),redbookmarks=document.querySelector(".bookmarks-link");parent.addEventListener("click",function(e){e.preventDefault();for(var r=e.target;r!==parent;){if("bookmarks-button"===r.className)return void redbookmarks.classList.add("bookmarks-link-red");r=r.parentNode}});var linkperforators=document.querySelector(".drills-show .slider-no-active"),linkdrills=document.querySelector(".perforators .slider-no-active"),sliderperforators=document.querySelector(".perforators"),sliderdrills=document.querySelector(".drills-show"),linkleft=document.querySelector(".drills-show .icon-left"),linkright=document.querySelector(".drills-show .icon-right"),linkleftperforators=document.querySelector(".perforators .icon-left"),linkrightperforators=document.querySelector(".perforators .icon-right");linkperforators.addEventListener("click",function(e){e.preventDefault(),sliderperforators.classList.add("perforators-show"),sliderdrills.classList.add("drills")}),linkdrills.addEventListener("click",function(e){e.preventDefault(),sliderdrills.classList.remove("drills"),sliderperforators.classList.remove("perforators-show")}),linkleft.addEventListener("click",function(e){e.preventDefault(),sliderperforators.classList.add("perforators-show"),sliderdrills.classList.add("drills")}),linkright.addEventListener("click",function(e){e.preventDefault(),sliderperforators.classList.add("perforators-show"),sliderdrills.classList.add("drills")}),linkleftperforators.addEventListener("click",function(e){e.preventDefault(),sliderdrills.classList.remove("drills"),sliderperforators.classList.remove("perforators-show")}),linkrightperforators.addEventListener("click",function(e){e.preventDefault(),sliderdrills.classList.remove("drills"),sliderperforators.classList.remove("perforators-show")});var linkdeliveryonwar=document.querySelector(".warranty-list .delivery-button"),linkdeliveryoncred=document.querySelector(".credit-list .delivery-button"),linkwarrantyondel=document.querySelector(".delivery-list-show .warranty-button"),linkwarrantyoncred=document.querySelector(".credit-list .warranty-button"),linkcreditondel=document.querySelector(".delivery-list-show .credit-button"),linkcreditonwar=document.querySelector(".warranty-list .credit-button"),sliderdelivery=document.querySelector(".delivery-list-show"),sliderwarranty=document.querySelector(".warranty-list"),slidercredit=document.querySelector(".credit-list");linkdeliveryonwar.addEventListener("click",function(e){e.preventDefault(),sliderdelivery.classList.remove("delivery-list"),sliderwarranty.classList.remove("warranty-list-show"),slidercredit.classList.add("credit-list")}),linkdeliveryoncred.addEventListener("click",function(e){e.preventDefault(),sliderdelivery.classList.remove("delivery-list"),sliderwarranty.classList.add("warranty-list"),slidercredit.classList.remove("credit-list-show")}),linkwarrantyondel.addEventListener("click",function(e){e.preventDefault(),sliderdelivery.classList.add("delivery-list"),sliderwarranty.classList.add("warranty-list-show"),slidercredit.classList.add("credit-list")}),linkwarrantyoncred.addEventListener("click",function(e){e.preventDefault(),sliderdelivery.classList.add("delivery-list"),sliderwarranty.classList.add("warranty-list-show"),slidercredit.classList.remove("credit-list-show")}),linkcreditondel.addEventListener("click",function(e){e.preventDefault(),sliderdelivery.classList.add("delivery-list"),sliderwarranty.classList.add("warranty-list"),slidercredit.classList.add("credit-list-show")}),linkcreditonwar.addEventListener("click",function(e){e.preventDefault(),sliderdelivery.classList.add("delivery-list"),sliderwarranty.classList.remove("warranty-list-show"),slidercredit.classList.add("credit-list-show")});
